<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>报警设置</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <script type="text/javascript" src="../js/LAB.min.js"></script>
    <style type="text/css">
        body {
        display: none;
        }
    </style>
    <script type="text/javascript">
        $LAB
        .script("../js/launch.js?version=" + new Date().getTime()).wait(function () {
            init(function () {
                function init_jpeg_page() {
                    var g_aftpenable = null;

                    function get_aftpenable() {
                        $.get("../vb.htm?paratest=aftpenable", function (ajaxdata) {
                            if (precheck(ajaxdata)) {
                                return false;
                            }
                            if ("OK" != ajaxdata.slice(0, 2)) return false;
                            g_aftpenable = ajaxdata.slice(ajaxdata.indexOf("=") + 1, ajaxdata.length - 1);
                            $("#aftp_enable").check_val(g_aftpenable == 1);
                        });
                    }

                    function set_aftpenable() {
                        var aftp_enable = $("#aftp_enable").check_val() ? "1" : "0";
                        if (aftp_enable != g_aftpenable) {
                            $.get("../vb.htm?aftpenable=" + aftp_enable, function (ajaxdata) {
                                default_ajax_handler(ajaxdata);
                                get_aftpenable();
                            });
                        }
                    }


                    var g_smtpenable = null;

                    function get_smtpenable() {
                        $.get("../vb.htm?paratest=asmtpenable", function (ajaxdata) {
                            if (precheck(ajaxdata)) {
                                return false;
                            }
                            if ("OK" != ajaxdata.slice(0, 2)) return false;
                            g_smtpenable = ajaxdata.slice(ajaxdata.indexOf("=") + 1, ajaxdata.length - 1);
                            $("#smtp_enable").check_val(g_smtpenable == 1);
                        });
                    }

                    function set_smtpenable() {
                        var smtp_enable = $("#smtp_enable").check_val() ? "1" : "0";
                        if (smtp_enable != g_smtpenable) {
                            $.get("../vb.htm?asmtpenable=" + smtp_enable, function (ajaxdata) {
                                default_ajax_handler(ajaxdata);
                                get_smtpenable();
                            });
                        }
                    }


                    function set_alarmenable() {
                        set_aftpenable();
                        set_smtpenable();
                    }

                    var g_jpeg_stream_enable = null;
                    var g_jpeg_quality = null;
                    var g_jpeg_size_xy = null;
                    var g_jpeg_frame_rate = null;

                    function get_jpeg() {
                        $.get("../vb.htm?paratest=supportstream1&paratest=livequality&paratest=videosizexy3&paratest=framerate3",
                        function (ajaxdata) {
                            if (precheck(ajaxdata)) {
                                return false;
                            }
                            response = ajaxdata.split("\n");
                            g_jpeg_stream_enable = parse_ajax_data(response[0]);
                            g_jpeg_quality = parse_ajax_data(response[1]);
                            g_jpeg_size_xy = parse_ajax_data(response[2]);
                            g_jpeg_frame_rate = parse_ajax_data(response[3]);
                            var size_x = g_jpeg_size_xy >>> 16 & 0xFFFF;
                            var size_y = g_jpeg_size_xy & 0xFFFF;
                            $("#jpeg_stream_enable").check_val(g_jpeg_stream_enable == 1);
                            $("#jpeg_quality").val(g_jpeg_quality);
                            if (size_x == 352) {
                                $("#jpeg_size_xy").select_val(0);
                            }
                            else {
                                $("#jpeg_size_xy").select_val(1);
                            }
                            $("#jpeg_frame_rate").val(g_jpeg_frame_rate);
                        });
                    }

                    function set_jpeg() {
                        var jpeg_stream_enable = $("#jpeg_stream_enable").check_val() ? "1" : "0";
                        var jpeg_quality = $("#jpeg_quality").val();
                        var jpeg_size_sel = $("#jpeg_size_xy").select_val();

                        var jpeg_size_x;
                        var jpeg_size_y;
                        if (jpeg_size_sel == 0) {
                            jpeg_size_x = 352;
                            jpeg_size_y = 288;
                        }
                        else {
                            jpeg_size_x = 704;
                            jpeg_size_y = 576;
                        }
                        var jpeg_frame_rate = $("#jpeg_frame_rate").val();
                        var jpeg_size_xy = ((jpeg_size_x << 16) & 0xFFFF0000) + (jpeg_size_y & 0xFFFF);

                        var njpeg_quality = parseInt(jpeg_quality, 10);
                        var njpeg_frame_rate = parseInt(jpeg_frame_rate, 10);
                        if (njpeg_quality < 1 || njpeg_quality > 100) {
                            alert("jpeg质量只能在1-100之间！");
                            return false;
                        }
                        if (njpeg_frame_rate < 1 || njpeg_frame_rate > 1200) {
                            alert("jpeg帧率只能在1-1200之间！");
                            return false;
                        }

                        if (jpeg_stream_enable != g_jpeg_stream_enable || jpeg_quality != g_jpeg_quality
                            || jpeg_size_xy != g_jpeg_size_xy || jpeg_frame_rate != g_jpeg_frame_rate) {
                            $.get("../vb.htm?jpegstreamenable=" + jpeg_stream_enable + "&livequality="
                            + jpeg_quality + "&videosizexy3=" + jpeg_size_xy + "&framerate3=" + jpeg_frame_rate,
                            function (ajaxdata) {
                                default_ajax_handler(ajaxdata);
                                get_jpeg();
                            });
                        }
                    }

                    var g_is_oil_version = false;
                    if (g_device_type >= 0 && g_device_type <= 2) {
                        g_is_oil_version = true;
                    }
                    get_support_3g_sd();
                    //当前设置，油田有3gsd的开启这个页面，其余隐藏
                    if(!g_is_oil_version || (g_support3g=="0" || g_supportsd=="0")){
                        $("#li_ftpupload").remove();
                        $("#tabs-4").remove();
                    }
                    else {
                        init_selectmenu("#jpeg_size_xy,#ftp_file_format", 90, 150);
                        get_aftpenable();
                        get_smtpenable();
                        $("#aftp_enable_submit").click(set_alarmenable);
                        get_jpeg();
                        $("#jpeg_submit").click(set_jpeg);
                    }
                }                

                function init_algsensitivity_page() {
                    var g_cur_channel = null;

                    function init_channel() {
                        var option_html = "";
                        for (var i = 0; i < g_channelnum; i++) {
                            var channel_name = i + 1;
                            option_html += "<option value=\"" + i + "\">" + channel_name + "</option>";
                        }
                        $("#select_channel").html(option_html);
                        init_selectmenu('#select_channel', 110, 150, function (e, object) {
                            load_cur_channel(object.value);
                        });
                        if (g_channelnum == 1) {
                            $("#select_channel").parent().parent().hide();
                        }
                    }


                    function load_cur_channel(channel) {
                        g_cur_channel = channel;
                        get_slider_val("algsensitivity", channel);
                    }

                    function get_slider_val(name, channel) {
                        $.get("../vb.htm?paratest=" + name + "." + channel,
                        function (ajaxdata) {
                            if (precheck(ajaxdata)) {
                                return false;
                            }
                            response = ajaxdata.split("\n");
                            var val = parse_ajax_data(response[0]);
                            $("#" + name + "_slider").slider('value', val);
                        });
                    }

                    function set_slider_val(name, val, channel) {
                        var request_string;
                        if (g_support_new_channel_api) {
                            request_string = "../vb.htm?" + name + "=" + val + "." + channel;
                        }
                        else {
                            request_string = "../vb.htm?" + name + "=" + val;
                        }
                        $.get(request_string,
                        function (ajaxdata) {
                            default_ajax_handler(ajaxdata);
                            get_slider_val(name, channel);
                        });
                    }

                    function set_slider_val_channel(name, val) {
                        set_slider_val(name, val, g_cur_channel);
                    }

                    function init_slider(name) {
                        var slider_name = "#" + name + "_slider";
                        var text_name = "#" + name + "_text";
                        $(slider_name).slider({
                            range: "min",
                            value: 5,
                            min: 1,
                            max: 9,
                            change: function (event, ui) {
                                $(text_name).html(ui.value);
                            },
                            slide: function (event, ui) {
                                $(text_name).html(ui.value);
                            },
                            stop: function (event, ui) {
                                return set_slider_val_channel(name, ui.value);
                            }
                        });
                        $(text_name).html($(slider_name).slider("value"));
                    }
                    if (g_device_type != 14) {
                        $("#li_for_algsensitivity").hide();
                        $("#tabs-2").hide();
                    }
                    else {
                        get_device_support_channels();
                        init_channel();
                        init_slider("algsensitivity");
                        g_cur_channel = 0;
                        load_cur_channel();
                    }
                }              
                
                function init_alarm_show_page() {
                    var g_drawtarget = null;
                    var g_drawrule = null;
                    var g_drawTrajectory = null;
                    var g_camhealthalarm = null;
                    var g_enableexttrigger = null;
                    var g_cur_channel = null;
                    function get_alarm_drawmode(channel) {
                        $.get("../vb.htm?paratest=drawmode." + channel, function (ajaxdata) {
                            if (precheck(ajaxdata)) {
                                return false;
                            }
                            if ("OK" != ajaxdata.slice(0, 2)) return false;
                            var slicestring = ajaxdata.slice(ajaxdata.indexOf("=") + 1, ajaxdata.length - 1);
                            var decode = Base64.decode(slicestring);
                            decode = decode.split(":");
                            $("#drawtarget").check_val(decode[0] == 1);
                            $("#drawrule").check_val(decode[1] == 1);
                            $("#drawTrajectory").check_val(decode[2] == 1);
                            g_drawtarget = decode[0];
                            g_drawrule = decode[1];
                            g_drawTrajectory = decode[2];
                        });
                    }

                    function set_alarm_drawmode(channel) {
                        var drawtarget = $("#drawtarget").check_val() ? "1" : "0";
                        var drawrule = $("#drawrule").check_val() ? "1" : "0";
                        var drawTrajectory = $("#drawTrajectory").check_val() ? "1" : "0";
                        if (drawtarget != g_drawtarget || drawrule != g_drawrule || drawTrajectory != g_drawTrajectory) {
                            var drawmodedata = drawtarget + ':' + drawrule + ':' + drawTrajectory + ':0:0';//res先置为0
                            var base64 = Base64.encode(drawmodedata);
                            $.get("../vb.htm?setdrawmodel1=" + base64 + "." + channel, function (ajaxdata) {
                                default_ajax_handler(ajaxdata);
                                get_alarm_drawmode(channel);
                            });
                            return true;
                        }
                        return false;
                    }

                    function get_camhealthenable(channel) {
                        $.get("../vb.htm?paratest=camhealthalarmenable." + channel, function (ajaxdata) {
                            if (precheck(ajaxdata)) {
                                return false;
                            }
                            if ("OK" != ajaxdata.slice(0, 2)) return false;
                            g_camhealthalarm = ajaxdata.slice(ajaxdata.indexOf("=") + 1, ajaxdata.length - 1);
                            $("#camhealthalarm").check_val(g_camhealthalarm == 1);
                        });
                    }

                    var g_platefilter = null;

                    function get_platefiltermode() {
                        var cmd, len, data;

                        cmd = 4;
                        data = "0";
                        len = data.length;
                        var base64 = Base64.encode(data);
                        var senddata = cmd + ":" + len + ":" + base64;
                        $.ajax({
                            type: "POST",
                            url: "../getivsctrl.php",
                            data: senddata,
                            success: function (ajaxdata) {
                                if (precheck(ajaxdata)) {
                                    return false;
                                }
                                if ("OK" != ajaxdata.slice(0, 2)) return false;
                                var decode = ajaxdata.slice(ajaxdata.indexOf("=") + 1, ajaxdata.length - 1);
                                decode = decode.split(":");
                                decode = Base64.decode(decode[2]);
                                decode = parseInt(decode);
                                g_platefilter = decode;
								var mask = 0x1;
								
                                var bOutStable = decode & mask;
                                var bOutVloop = decode & (mask << 1);
								var bOutIo1 = decode & (mask << 4);
								var bOutIo2 = decode & (mask << 5);
								var bOutIo3 = decode & (mask << 6);
								
                                $("#stable").check_val(bOutStable > 0);
                                $("#vloop").check_val(bOutVloop > 0);
								$("#out_io1").check_val(bOutIo1 > 0);
								$("#out_io2").check_val(bOutIo2 > 0);
								$("#out_io3").check_val(bOutIo3 > 0);
                            },
                            dataType: "text"
                        });
                    }

                    function set_platefiltermode() {
                        var cmd, len, data;
                        cmd = 5;
                        var bOutStable = $("#stable").check_val() ? "1" : "0";
                        var bOutVloop = $("#vloop").check_val() ? "1" : "0";
						var bOutIo1 = $("#out_io1").check_val() ? "1" : "0";
						var bOutIo2 = $("#out_io2").check_val() ? "1" : "0";
						var bOutIo3 = $("#out_io3").check_val() ? "1" : "0";
						var platefilter = parseInt(bOutStable) | (parseInt(bOutVloop) << 1) | (parseInt(bOutIo1) << 4) | (parseInt(bOutIo2) << 5) | (parseInt(bOutIo3) << 6);

                        if (g_platefilter == platefilter) {
                            return false;
                        }

                        data = platefilter.toString();
                        len = data.length;
                        var base64 = Base64.encode(data);
                        var senddata = cmd + ":" + len + ":" + base64;

                        var data = cmd + ":" + len + ":" + base64;
                        $.ajax({
                            type: "POST",
                            url: "../ivsctrl.php",
                            data: senddata,
                            success: function (ajaxdata) {
                                default_ajax_handler(ajaxdata);
                                g_platefilter = platefilter;
                            },
                            dataType: "text"
                        });
                    }

                    function set_camhealthenable(channel) {
                        var camhealthalarm = $("#camhealthalarm").check_val() ? "1" : "0";
                        if (camhealthalarm != g_camhealthalarm) {
                            $.get("../vb.htm?setcamhealthalarmenable=" + camhealthalarm + "." + channel, function (ajaxdata) {
                                default_ajax_handler(ajaxdata);
                                get_camhealthenable();
                            });
                            return true;
                        }
                        return false;
                    }
					
					var g_distinguish_type = 0;
					
					function get_distinguish_type()
					{
						var cmd, len, data;

                        cmd = 8;
                        data = "0";
                        len = data.length;
                        var base64 = Base64.encode(data);
                        var senddata = cmd + ":" + len + ":" + base64;
                        $.ajax({
                            type: "POST",
                            url: "../getivsctrl.php",
                            data: senddata,
                            success: function (ajaxdata) {
                                if (precheck(ajaxdata)) {
                                    return false;
                                }
                                if ("OK" != ajaxdata.slice(0, 2)) return false;
                                var decode = ajaxdata.slice(ajaxdata.indexOf("=") + 1, ajaxdata.length - 1);
                                decode = decode.split(":");
                                decode = Base64.decode(decode[2]);
                                decode = parseInt(decode);
                                g_distinguish_type = decode;

								$("#blue").check_val((decode & (1 << 1)) > 0);
                                $("#yellow").check_val(((decode & (1 << 3)) || (decode & (1 << 4))) > 0);
								$("#black").check_val((decode & (1 << 2)) > 0);
                                $("#coach").check_val((decode & (1 << 13)) > 0);
								$("#police").check_val((decode & (1 << 5)) > 0);
                                $("#armpol").check_val( ( (decode & (1 << 6)) || (decode & (1 << 15)) )> 0 );
								$("#army").check_val(((decode & (1 << 8)) || (decode & (1 << 9))) > 0);
                                $("#hongkongmacao").check_val(((decode & (1 << 11)) || (decode & (1 << 14))) > 0);
                                $("#embassy").check_val((decode & (1 << 10)) > 0);
                                $("#ca").check_val((decode & (1 << 18)) > 0);
                                $("#newEnergy").check_val((decode & (1 << 19)) > 0);
                            },
                            dataType: "text"
                        });
					}
					
					function set_distinguish_type()
					{
						var cmd, len, data;
                        cmd = 7;
						var distinguish_type = 0;
						if($("#blue").check_val())
						{
							distinguish_type = distinguish_type | (1 << 1);
						}
						if($("#yellow").check_val())
						{
							distinguish_type = distinguish_type | (1 << 3);
							distinguish_type = distinguish_type | (1 << 4);
						}
						if($("#black").check_val())
						{
							distinguish_type = distinguish_type | (1 << 2);
						}
						if($("#coach").check_val())
						{
							distinguish_type = distinguish_type | (1 << 13);
						}
						if($("#police").check_val())
						{
							distinguish_type = distinguish_type | (1 << 5);
						}
						if($("#armpol").check_val())
						{
							distinguish_type = distinguish_type | (1 << 6);
							distinguish_type = distinguish_type | (1 << 15);
						}
						if($("#army").check_val())
						{
							distinguish_type = distinguish_type | (1 << 8);
							distinguish_type = distinguish_type | (1 << 9);
						}
						if($("#hongkongmacao").check_val())
						{
							distinguish_type = distinguish_type | (1 << 11);
							distinguish_type = distinguish_type | (1 << 14);
						}
						if($("#embassy").check_val())
						{
							distinguish_type = distinguish_type | (1 << 10);
						}
						if ($("#ca").check_val()) {
						    distinguish_type = distinguish_type | (1 << 18);
						}
						if ($("#newEnergy").check_val()) {
						    distinguish_type = distinguish_type | (1 << 19);
						}
                        if (g_distinguish_type == distinguish_type) {
                            return false;
                        }

                        data = distinguish_type.toString();
                        len = data.length;
                        var base64 = Base64.encode(data);
                        var senddata = cmd + ":" + len + ":" + base64;

                        var data = cmd + ":" + len + ":" + base64;
                        $.ajax({
                            type: "POST",
                            url: "../ivsctrl.php",
                            data: senddata,
                            success: function (ajaxdata) {
                                default_ajax_handler(ajaxdata);
                                g_distinguish_type = distinguish_type;
                            },
                            dataType: "text"
                        });
					}

					function getimagequality() {
					    $.get("../vb.htm?getimagequality", function (ajaxdata) {
					        if (precheck(ajaxdata)) {
					            return false;
					        }
					        if ("OK" != ajaxdata.slice(0, 2)) return false;
					        var imagequality = ajaxdata.slice(ajaxdata.indexOf("=") + 1, ajaxdata.length - 1);
					        $("#centerserver_image_quality").select_val(imagequality);
					    });
					}
					function setimagequality() {
					    var imagequality = $("#centerserver_image_quality").val();
					    $.get("../vb.htm?setimagequality=" + imagequality, function (ajaxdata) {
					        default_ajax_handler(ajaxdata);
					        getimagequality();
					    });
					}

                    function get_alarm_settings() {
                        get_alarm_drawmode(g_cur_channel);
                        if (g_device_type != 11) {
                            get_camhealthenable(g_cur_channel);
                        }
                        else {
                            get_platefiltermode();
                            get_distinguish_type();
                            getimagequality();
                        }
                    }

                    function set_alarm_settings() {
                        set_alarm_drawmode(g_cur_channel);
                        if (g_device_type != 11) {
                            set_camhealthenable(g_cur_channel);
                        }
                        else {
                            set_platefiltermode();
                            set_distinguish_type();
                            setimagequality();
                        }
                    }

                    function init_channel() {
                        var option_html = "";
                        for (var i = 0; i < g_channelnum; i++) {
                            var channel_name = i + 1;
                            option_html += "<option value=\"" + i + "\">" + channel_name + "</option>";
                        }
                        $("#select_channel1").html(option_html);
                        init_selectmenu('#select_channel1',110, 150,function (e, object) {
                            load_cur_channel(object.value);
                        });
                        if (g_channelnum == 1) {
                            $("#select_channel1").parent().parent().hide();
                        }
                    }


                    function load_cur_channel(channel) {
                        g_cur_channel = channel;
                        get_alarm_settings();
                    }
                    function replace_label_text(label, text_new) {
                        var text = $(label).html();
                        var regex = new RegExp($(label).text(), 'g');
                        text = text.replace(regex, text_new);
                        $(label).html(text);
                    }

                    //init
                    get_device_support_channels();
                    if (g_device_type == 11) {
                        $("#alarm_show_name").text("实时显示：");
                        replace_label_text("#drawtarget_name", "实时结果");
                        replace_label_text("#drawrule_name", "虚拟线圈和识别区域");
                        replace_label_text("#drawTrajectory_name", "车牌位置");
                        $("#plate_show_result_type_tr").show();
						$("#plate_distinguish_type_tr0").show();
						$("#plate_distinguish_type_tr1").show();
						$("#plate_distinguish_type_tr2").show();
						$("#plate_distinguish_type_tr3").show();
						$("#black").attr("disabled", "disabled");
						$("#camhealthalarm_tr").remove();
						init_selectmenu("#centerserver_image_quality", 100, 150);
                    }
                    init_channel();
                    g_cur_channel = 0;
                    load_cur_channel(g_cur_channel);                    
                    $("#submit").click(set_alarm_settings);
                }

                function init_alarm_io_page() {
                    var g_gioalarmout_enable = null;
                    var g_gioalarmin_enable = null;
                    var g_gioalarmin_type = null;
                    function get_alarmgioenable() {
                        $.get("../vb.htm?paratest=extalarm&paratest=exttriggeroutput&paratest=exttriggerinput", function (ajaxdata) {
                            if (precheck(ajaxdata)) {
                                return false;
                            }
                            response = ajaxdata.split("\n");
                            g_enableexttrigger = parse_ajax_data(response[0]);
                            g_gioalarmout_enable = parse_ajax_data(response[1]);
                            g_gioalarmin_enable = parse_ajax_data(response[2]);
                            $("#enableexttrigger").check_val(g_enableexttrigger == 1);
                            $("#gioalarmout").check_val(g_gioalarmout_enable == 1);
                            $("#gioalarmin").check_val(g_gioalarmin_enable == 1);
                        });
                    }

                    function set_alarmgioenable() {
                        var enableexttrigger = $("#enableexttrigger").check_val() ? "1" : "0";
                        // var gioalarmin = $("#gioalarmin").check_val()?"1":"0";
                        var gioalarmout_enable = $("#gioalarmout").check_val() ? "1" : "0";
                        var gioalarmin_enable = $("#gioalarmin").check_val() ? "1" : "0";
                        if (enableexttrigger != g_enableexttrigger || gioalarmout_enable != g_gioalarmout_enable ||
                            gioalarmin_enable != g_gioalarmin_enable) {
                            $.get("../vb.htm", {
                                extalarm: enableexttrigger, exttriggeroutput: gioalarmout_enable, exttriggerinput: gioalarmin_enable
                            }, function (ajaxdata) {
                                default_ajax_handler(ajaxdata);
                                get_alarmgioenable();
                            });
                            return true;
                        }
                        return false;
                    }

                    if (g_device_type != 11) {
                        //$("#gioalarmin").check_disabled(true);
                        get_alarmgioenable();
                        $("#iosubmit").click(set_alarmgioenable);
                    }
                    else {
                        $("#li_for_alarmgio").hide();
                        $("#tabs-3").hide();
                    }
                }

                function version_setup() {
                    get_device_type();
                    init_alarm_show_page();
                    init_algsensitivity_page();
                    init_alarm_io_page();
                    init_jpeg_page();
                    create_tabs("#alarm_tabs");
                }
   
                $(function(){
                    version_setup();

                    if (g_style_time == "new") {
                        $("#IO_3").css("display","none");
                    }
                });
            });
        });
		
    </script>
</head>
<body>
    <div id="alarm_tabs" style="min-width:960px;">
        <ul>
            <li><a href="#tabs-1">基本配置</a></li>
            <li id="li_for_algsensitivity"><a href="#tabs-2">算法配置</a></li>
            <li id="li_for_alarmgio"><a href="#tabs-3">报警输出</a></li>
            <li id="li_ftpupload"><a href="#tabs-4">报警上传</a></li>
        </ul>
        <div id="tabs-1">
            <table class="dummy" border="0" style="margin-top: 30px; margin-left: 50px;">
                <tr>
                <tr>
                    <td>
                        当前通道：
                    </td>
                    <td colspan="2">
                        <select id="select_channel1" style="width: 3em"></select>
                    </td>
                </tr>
                <tr>
                    <td id="alarm_show_name">
                        报警结果显示：
                    </td>
                    <td style="min-width:140px">
                        <input type="checkbox" id="drawtarget" />
                        <label id="drawtarget_name" for="drawtarget">报警目标</label>
                    </td>
					<td style="min-width:140px">
                        <input type="checkbox" id="drawTrajectory" />
                        <label id="drawTrajectory_name" for="drawTrajectory">目标轨迹</label>
                    </td>
                    <td style="min-width:150px">
                        <input type="checkbox" id="drawrule" />
                        <label id="drawrule_name" for="drawrule">警戒规则</label>
                    </td>
                </tr>
                <tr>
                    <td style="padding-top: 20px">
                        图片质量：
                    </td>
                    <td colspan="3" style="padding-top: 20px">
                        <select id="centerserver_image_quality">
                            <option value="100">100%</option>
                            <option value="90">90%</option>
                            <option value="80">80%</option>
                            <option value="70">70%</option>
                            <option value="60">60%</option>
                            <option value="50">50%</option>
                            <option value="40">40%</option>
                            <option value="30">30%</option>
                            <option value="20">20%</option>
                            <option value="10">10%</option>
                        </select>
                    </td>
                </tr>
                <tr id="plate_show_result_type_tr" style="display:none">
                    <td style="padding-top: 20px">
                        输出结果：
                    </td>
                    <td style="padding-top: 20px">
                        <input type="checkbox" id="stable" />
                        <label for="stable">稳定识别触发</label>
                    </td>
                    <td style="padding-top: 20px">
                        <input type="checkbox" id="vloop" />
                        <label for="vloop">虚拟线圈触发</label>
                    </td>
					<td style="padding-top: 20px">
                        <input type="checkbox" id="out_io1" />
                        <label for="out_io1">IO输入1触发</label>
                    </td>
					<td style="padding-top: 20px;min-width:140px">
                        <input type="checkbox" id="out_io2" />
                        <label for="out_io2">IO输入2触发</label>
                    </td>
                    <td id="IO_3" style="padding-top: 20px;min-width:140px">
                        <input type="checkbox" id="out_io3" />
                        <label for="out_io3">IO输入3触发</label>
                    </td>
                </tr>
				<tr id="plate_distinguish_type_tr0" style="display:none">
					 <td style="padding-top: 20px;min-width:70px">
                        识别类型：
                    </td>
                    <td style="padding-top: 20px">
                        <input type="checkbox" id="blue" />
                        <label for="blue">蓝牌</label>
                    </td >
                    <td style="padding-top: 20px">
                        <input type="checkbox" id="yellow" />
                        <label for="yellow">黄牌</label>
                    </td>
					 <td style="padding-top: 20px">
                        <input type="checkbox" id="black"/>
                        <label for="black">黑牌</label>
                    </td>
				</tr>
				<tr id="plate_distinguish_type_tr1" style="display:none">
					<td>
                       
                    </td>
                    <td>
                        <input type="checkbox" id="coach" />
                        <label for="coach">教练</label>
                    </td>
                    <td>
                        <input type="checkbox" id="police" />
                        <label for="police">警牌</label>
                    </td>
					 <td>
                        <input type="checkbox" id="armpol" />
                        <label for="armpol">武警</label>
                    </td>
				</tr>
				<tr id="plate_distinguish_type_tr2" style="display:none">
					<td>
                       
                    </td>
                    <td>
                        <input type="checkbox" id="army" />
                        <label for="army">军牌</label>
                    </td>
                    <td>
                        <input type="checkbox" id="hongkongmacao" />
                        <label for="hongkongmacao">港澳</label>
                    </td>
					 <td>
                        <input type="checkbox" id="embassy" />
                        <label for="embassy">使领馆</label>
                    </td>
				</tr>
                <tr id="plate_distinguish_type_tr2" style="display:none">
                    <td></td>
                    <td>
                        <input type="checkbox" id="army" />
                        <label for="army">军牌</label>
                    </td>
                    <td>
                        <input type="checkbox" id="hongkongmacao" />
                        <label for="hongkongmacao">港澳</label>
                    </td>
                    <td>
                        <input type="checkbox" id="embassy" />
                        <label for="embassy">使领馆</label>
                    </td>
                </tr>
                <tr id="plate_distinguish_type_tr3" style="display:none">
                    <td></td>
                    <td>
                        <input type="checkbox" id="ca" />
                        <label for="ca">民航</label>
                    </td>
                    <td>
                        <input type="checkbox" id="newEnergy" />
                        <label for="newEnergy">新能源</label>
                    </td>
                </tr>
                <tr id="camhealthalarm_tr">
                    <td>
                        镜头异常提醒：
                    </td>
                    <td>
                        <input type="checkbox" id="camhealthalarm" />
                        <label for="camhealthalarm">开启</label>
                    </td>
                </tr>
                <tr><td></td></tr>
                <tr>
                    <td align="right" colspan="4">
                        <input id="submit" type="submit" value="确定" />
                    </td>
                </tr>
            </table>
        </div>
        <div id="tabs-2">
            <table class="dummy" border="0" style="margin-top: 10px; margin-left: 50px">
                <tr>
                    <td>
                        当前通道：
                    </td>
                    <td colspan="2">
                        <select id="select_channel" style="width: 3em"></select>
                    </td>
                </tr>
                <tr>
                    <td style="text-align:right">
                        算法灵敏度:
                    </td>
                    <td style="width:10" id="algsensitivity_text"></td>
                    <td style="padding: 0; font-size: .6em; width: 20em">
                        <div id="algsensitivity_slider">
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        <div id="tabs-3">
            <table class="dummy" border="0" style="margin-top: 10px; margin-left: 50px">
                <tr>
                    <td>
                        <input type="checkbox" id="enableexttrigger" />
                        <label for="enableexttrigger">启用IO端口报警</label>
                    </td>
                    <td>
                        <input type="checkbox" id="gioalarmin" />
                        <label for="gioalarmin">开启输入</label>
                    </td>
                    <td>
                        <input type="checkbox" id="gioalarmout" />
                        <label for="gioalarmout">开启输出</label>
                    </td>
                </tr>
                <tr>
                    <td align="right" colspan="4" style="padding-top:1em">
                        <input id="iosubmit" type="submit" value="确定" />
                    </td>
                </tr>
            </table>
        </div>
        <div id="tabs-4">
            <table class="dummy" border="0" style="margin-top: 30px; margin-left: 50px">
                <tr>
                    <td style="min-width:70px;">
                        开启报警ftp上传
                    </td>
                    <td>
                        <input id="aftp_enable" type="checkbox" />
                    </td>
                </tr>
                <tr>
                    <td style="min-width:70px;">
                        开启报警邮件上传
                    </td>
                    <td>
                        <input id="smtp_enable" type="checkbox" />
                    </td>
                </tr>
                <tr>
                    <td>
                        上传格式
                    </td>
                    <td>
                        <select id="ftp_file_format" style="width: 3em">
                            <option>JPEG</option>
                        </select>
                    </td>
                    <td align="right">
                        <input id="aftp_enable_submit" type="submit" value="确定" />
                    </td>
                </tr>
                <tr><td></td></tr>
                <tr><td>jpeg配置</td></tr>
                <tr>
                    <td style="min-width:70px;">
                        开启jpeg流
                    </td>
                    <td>
                        <input id="jpeg_stream_enable" type="checkbox" />
                    </td>
                </tr>
                <tr>
                    <td>
                        图像质量
                    </td>
                    <td>
                        <input id="jpeg_quality" type="text" size="10" />（1-100）
                    </td>
                </tr>
                <tr>
                    <td>
                        分辨率
                    </td>
                    <td>
                        <select id="jpeg_size_xy" style="width: 3em">
                            <option>CIF</option>
                            <option>CIF4</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>
                        帧率
                    </td>
                    <td>
                        <input id="jpeg_frame_rate" type="text" size="10" />/100（1-1200）
                    </td>
                    <td align="right">
                        <input id="jpeg_submit" type="submit" value="确定" />
                    </td>
                </tr>
                <tr><td></td></tr>
            </table>
        </div>
    </div>
</body>
</html>
